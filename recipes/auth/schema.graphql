"""
Exposes a URL that specifies the behavior of this scalar.
"""
directive @specifiedBy(
  """
  The URL that specifies the behavior of this scalar.
  """
  url: String!
) on SCALAR

"""
A counter with a label and count
"""
type Counter implements Node {
  count: Int
  id: ID!
  label: String
}

type LoggedIn {
  user: User
}

type LoggedOut {
  message: String
}

type LoggedOut {
  message: String
}

type LogInError {
  message: String
}

union LogInResponse = LogInError | LoggedIn

type Mutation {
  decrementCount(id: ID!): Counter
  incrementCount(id: ID!): Counter
  login(email: String!, password: String!): LogInResponse
  logout: LoggedOut
  register(email: String!, password: String!): RegistrationResponse
}

interface Node {
  id: ID!
}

type PageInfo {
  endCursor: ID
  hasNextPage: Boolean!
  hasPreviousPage: Boolean!
  startCursor: ID
}

type Query {
  counters(
    after: ID
    before: ID
    first: Int
    last: Int
  ): QueryCountersConnection
  defaultCounter: Counter
  me: String
  node(id: ID!): Node
  nodes(ids: [ID!]!): [Node]!
  session: Session
}

type QueryCountersConnection {
  edges: [QueryCountersConnectionEdge]!
  pageInfo: PageInfo!
}

type QueryCountersConnectionEdge {
  cursor: ID!
  node: Counter!
}

type RegistrationError {
  message: String
}

union RegistrationResponse = Registered | RegistrationError

union Session = LoggedIn | Unauthorized

type Unauthorized {
  message: String
}

type User implements Node {
  email: String
  id: ID!
}
